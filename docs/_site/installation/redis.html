<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Redis | OSAT</title><meta name="generator" content="Jekyll v3.8.7" /><meta property="og:title" content="Redis" /><meta property="og:locale" content="en_US" /><meta name="description" content="Open Source SEO Audits Toolkit" /><meta property="og:description" content="Open Source SEO Audits Toolkit" /><link rel="canonical" href="http://localhost:4000/installation/redis.html" /><meta property="og:url" content="http://localhost:4000/installation/redis.html" /><meta property="og:site_name" content="OSAT" /> <script type="application/ld+json"> {"url":"http://localhost:4000/installation/redis.html","headline":"Redis","description":"Open Source SEO Audits Toolkit","@type":"WebPage","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> OSAT </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/installation" class="nav-list-link">Installation</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/installation/python.html" class="nav-list-link">Python3</a><li class="nav-list-item active"><a href="http://localhost:4000/installation/redis.html" class="nav-list-link active">Redis</a></ul><li class="nav-list-item"><a href="http://localhost:4000/api" class="nav-list-link">API</a></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search OSAT" aria-label="Search OSAT" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="//github.com/StanGirard/seo-audits-toolkit" class="site-button" > OSAT on GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/installation">Installation</a><li class="breadcrumb-nav-list-item"><span>Redis</span></ol></nav><div id="main-content" class="main-content" role="main"><ol id="markdown-toc"><li><a href="#ubuntu-1804" id="markdown-toc-ubuntu-1804">Ubuntu 18.04</a><ol><li><a href="#step-1--installing-and-configuring-redis" id="markdown-toc-step-1--installing-and-configuring-redis">Step 1 — Installing and Configuring Redis</a><li><a href="#step-2--testing-redis" id="markdown-toc-step-2--testing-redis">Step 2 — Testing Redis</a></ol><li><a href="#macos" id="markdown-toc-macos">MacOS</a></ol><h2 id="ubuntu-1804"> <a href="#ubuntu-1804" aria-labelledby="ubuntu-1804" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Ubuntu 18.04</h2><h3 id="step-1--installing-and-configuring-redis"> <a href="#step-1--installing-and-configuring-redis" aria-labelledby="step-1--installing-and-configuring-redis" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 1 — Installing and Configuring Redis</h3><p>In order to get the latest version of Redis, we will use <code class="highlighter-rouge">apt</code> to install it from the official Ubuntu repositories.</p><p>Update your local apt package cache and install Redis by typing:</p><pre><code class="language-Bash">sudo apt update
sudo apt install redis-server
</code></pre><p>This will download and install Redis and its dependencies. Following this, there is one important configuration change to make in the Redis configuration file, which was generated automatically during the installation.</p><p>Open this file with your preferred text editor:</p><pre><code class="language-Bash">sudo nano /etc/redis/redis.conf
</code></pre><p>Inside the file, find the supervised directive. This directive allows you to declare an init system to manage Redis as a service, providing you with more control over its operation. The supervised directive is set to no by default. Since you are running Ubuntu, which uses the systemd init system, change this to systemd:</p><pre><code class="language-Bash">/etc/redis/redis.conf
. . .

# If you run Redis from upstart or systemd, Redis can interact with your
# supervision tree. Options:
#   supervised no      - no supervision interaction
#   supervised upstart - signal upstart by putting Redis into SIGSTOP mode
#   supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET
#   supervised auto    - detect upstart or systemd method based on
#                        UPSTART_JOB or NOTIFY_SOCKET environment variables
# Note: these supervision methods only signal "process is ready."
#       They do not enable continuous liveness pings back to your supervisor.
supervised systemd
</code></pre><p>That’s the only change you need to make to the Redis configuration file at this point, so save and close it when you are finished. Then, restart the Redis service to reflect the changes you made to the configuration file:</p><pre><code class="language-Bash">sudo systemctl restart redis.service
</code></pre><p>With that, you’ve installed and configured Redis and it’s running on your machine. Before you begin using it, though, it’s prudent to first check whether Redis is functioning correctly.</p><h3 id="step-2--testing-redis"> <a href="#step-2--testing-redis" aria-labelledby="step-2--testing-redis" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 2 — Testing Redis</h3><p>As with any newly-installed software, it’s a good idea to ensure that Redis is functioning as expected before making any further changes to its configuration. We will go over a handful of ways to check that Redis is working correctly in this step.</p><p><strong>Start by checking that the Redis service is running:</strong></p><pre><code class="language-Bash">sudo systemctl status redis
</code></pre><p>If it is running without any errors, this command will produce output similar to the following:</p><pre><code class="language-Bash">Output
● redis-server.service - Advanced key-value store
   Loaded: loaded (/lib/systemd/system/redis-server.service; enabled; vendor preset: enabled)
   Active: active (running) since Wed 2018-06-27 18:48:52 UTC; 12s ago
     Docs: http://redis.io/documentation,
           man:redis-server(1)
  Process: 2421 ExecStop=/bin/kill -s TERM $MAINPID (code=exited, status=0/SUCCESS)
  Process: 2424 ExecStart=/usr/bin/redis-server /etc/redis/redis.conf (code=exited, status=0/SUCCESS)
 Main PID: 2445 (redis-server)
    Tasks: 4 (limit: 4704)
   CGroup: /system.slice/redis-server.service
           └─2445 /usr/bin/redis-server 127.0.0.1:6379
. . .
</code></pre><p>Here, you can see that Redis is running and is already enabled, meaning that it is set to start up every time the server boots.</p><p>Note: This setting is desirable for many common use cases of Redis. If, however, you prefer to start up Redis manually every time your server boots, you can configure this with the following command:</p><pre><code class="language-Bash">sudo systemctl disable redis
</code></pre><p>To test that Redis is functioning correctly, connect to the server using the command-line client:</p><pre><code class="language-Bash">redis-cli
</code></pre><p>In the prompt that follows, test connectivity with the ping command:</p><pre><code class="language-Bash">ping
</code></pre><p><strong>Output</strong></p><pre><code class="language-Bash">PONG
</code></pre><p>This output confirms that the server connection is still alive. Next, check that you’re able to set keys by running:</p><pre><code class="language-Bash">set test "It's working!"
</code></pre><p><strong>Output</strong></p><pre><code class="language-Bash">OK
</code></pre><p>Retrieve the value by typing:</p><pre><code class="language-Bash">get test
</code></pre><p>Assuming everything is working, you will be able to retrieve the value you stored:</p><p><strong>Output</strong></p><pre><code class="language-Bash">"It's working!"
</code></pre><p>After confirming that you can fetch the value, exit the Redis prompt to get back to the shell:</p><pre><code class="language-Bash">exit
</code></pre><p>As a final test, we will check whether Redis is able to persist data even after it’s been stopped or restarted. To do this, first restart the Redis instance:</p><pre><code class="language-Bash">sudo systemctl restart redis
</code></pre><p>Then connect with the command-line client once again and confirm that your test value is still available:</p><pre><code class="language-Bash">redis-cli
get test
</code></pre><p>The value of your key should still be accessible:</p><p><strong>Output</strong></p><pre><code class="language-Bash">"It's working!"
</code></pre><p>Exit out into the shell again when you are finished:</p><pre><code class="language-Bash">exit
</code></pre><p>With that, your Redis installation is fully operational and ready for you to use. However, some of its default configuration settings are insecure and provide malicious actors with opportunities to attack and gain access to your server and its data. The remaining steps in this tutorial cover methods for mitigating these vulnerabilities, as prescribed by the official Redis website. Although these steps are optional and Redis will still function if you choose not to follow them, it is strongly recommended that you complete them in order to harden your system’s security.</p><h2 id="macos"> <a href="#macos" aria-labelledby="macos" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> MacOS</h2><p>By using Homebrew, you greatly reduce the cost of setting up and configuring the development environment on Mac OS X. Let’s install Redis for the good.</p><pre><code class="language-Bash">$ brew install redis
</code></pre><p>After installation, you will see some notification about some caveats on configuring. Just leave it.</p><p><strong>Launch Redis on computer starts.</strong></p><pre><code class="language-Bash">$ ln -sfv /usr/local/opt/redis/*.plist ~/Library/LaunchAgents
</code></pre><p><strong>Start Redis server via “launchctl”.</strong></p><pre><code class="language-Bash">$ launchctl load ~/Library/LaunchAgents/homebrew.mxcl.redis.plist
</code></pre><p><strong>Start Redis server using configuration file.</strong></p><pre><code class="language-Bash">$ redis-server /usr/local/etc/redis.conf
</code></pre><p><strong>Stop Redis on autostart on computer start.</strong></p><pre><code class="language-Bash">$ launchctl unload ~/Library/LaunchAgents/homebrew.mxcl.redis.plist
</code></pre><p><strong>Location of Redis configuration file.</strong></p><pre><code class="language-Bash">/usr/local/etc/redis.conf
</code></pre><p><strong>Uninstall Redis and its files.</strong></p><pre><code class="language-Bash">$ brew uninstall redis
$ rm ~/Library/LaunchAgents/homebrew.mxcl.redis.plist
</code></pre><p><strong>Get Redis package information.</strong></p><pre><code class="language-Bash">$ brew info redis
</code></pre><p><strong>Test if Redis server is running.</strong></p><pre><code class="language-Bash">$ redis-cli ping
</code></pre><p>If it replies “PONG”, then it’s good to go!</p><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2017-2020 Stan Girard. Distributed by an <a href="//github.com/StanGirard/seo-audits-toolkit/tree/master/LICENSE.txt">MIT license.</a></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/StanGirard/seo-audits-toolkit/tree/master/docs/installation/redis.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div>
